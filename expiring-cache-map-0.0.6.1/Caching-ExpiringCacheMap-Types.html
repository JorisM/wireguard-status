<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Caching.ExpiringCacheMap.Types</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">expiring-cache-map-0.0.6.1: General purpose simple caching.</span><ul class="links" id="page-menu"><li><a href="src/Caching.ExpiringCacheMap.Types.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th valign="top">Copyright</th><td>(c) 2014 Edward L. Blake</td></tr><tr><th>License</th><td>BSD-style</td></tr><tr><th>Maintainer</th><td>Edward L. Blake &lt;edwardlblake@gmail.com&gt;</td></tr><tr><th>Stability</th><td>experimental</td></tr><tr><th>Portability</th><td>portable</td></tr><tr><th>Safe Haskell</th><td>Safe-Inferred</td></tr><tr><th>Language</th><td>Haskell98</td></tr></table><p class="caption">Caching.ExpiringCacheMap.Types</p></div><div id="table-of-contents"><div id="contents-list"><p class="caption" onclick="window.scrollTo(0,0)">Contents</p><ul><li><a href="#g:1">Configuration</a></li><li><a href="#g:2">Cache encapsulation</a></li><li><a href="#g:3">Types</a></li><li><a href="#g:4">Types for state function</a></li></ul></div></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Types common to <a href="Caching-ExpiringCacheMap-OrdECM.html">Caching.ExpiringCacheMap.OrdECM</a> and <a href="Caching-ExpiringCacheMap-HashECM.html">Caching.ExpiringCacheMap.HashECM</a>.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">data</span> <a href="#t:CacheSettings">CacheSettings</a> = <a href="#v:CacheWithLRUList">CacheWithLRUList</a> {<ul class="subs"><li><a href="#v:mapsize">mapsize</a> :: <a href="Caching-ExpiringCacheMap-Types.html#t:ECMMapSize" title="Caching.ExpiringCacheMap.Types">ECMMapSize</a></li><li><a href="#v:removalsize">removalsize</a> :: <a href="Caching-ExpiringCacheMap-Types.html#t:ECMMapSize" title="Caching.ExpiringCacheMap.Types">ECMMapSize</a></li><li><a href="#v:compactlistsize">compactlistsize</a> :: <a href="Caching-ExpiringCacheMap-Types.html#t:ECMULength" title="Caching.ExpiringCacheMap.Types">ECMULength</a></li></ul>}</li><li class="src short"><span class="keyword">data</span> <a href="#t:ECM">ECM</a> a b s m k v</li><li class="src short"><span class="keyword">data</span> <a href="#t:CacheState">CacheState</a> s m k v</li><li class="src short"><span class="keyword">type</span> <a href="#t:TimeUnits">TimeUnits</a> = <a href="../base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:ECMMapSize">ECMMapSize</a> = <a href="../base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:ECMULength">ECMULength</a> = <a href="../base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:ECMIncr">ECMIncr</a> = <a href="../base-4.18.2.1/Data-Word.html#t:Word32" title="Data.Word">Word32</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:ECMNewState">ECMNewState</a> a b s m k v = <a href="Caching-ExpiringCacheMap-Types.html#t:CacheState" title="Caching.ExpiringCacheMap.Types">CacheState</a> s m k v -&gt; a (b (<a href="Caching-ExpiringCacheMap-Types.html#t:CacheState" title="Caching.ExpiringCacheMap.Types">CacheState</a> s m k v))</li><li class="src short"><span class="keyword">type</span> <a href="#t:ECMEnterState">ECMEnterState</a> a b s m k v = b (<a href="Caching-ExpiringCacheMap-Types.html#t:CacheState" title="Caching.ExpiringCacheMap.Types">CacheState</a> s m k v) -&gt; (<a href="Caching-ExpiringCacheMap-Types.html#t:CacheState" title="Caching.ExpiringCacheMap.Types">CacheState</a> s m k v -&gt; a (<a href="Caching-ExpiringCacheMap-Types.html#t:CacheState" title="Caching.ExpiringCacheMap.Types">CacheState</a> s m k v, v)) -&gt; a v</li><li class="src short"><span class="keyword">type</span> <a href="#t:ECMReadState">ECMReadState</a> a b s m k v = b (<a href="Caching-ExpiringCacheMap-Types.html#t:CacheState" title="Caching.ExpiringCacheMap.Types">CacheState</a> s m k v) -&gt; a (<a href="Caching-ExpiringCacheMap-Types.html#t:CacheState" title="Caching.ExpiringCacheMap.Types">CacheState</a> s m k v)</li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>Configuration</h1></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:CacheSettings" class="def">CacheSettings</a> <a href="src/Caching.ExpiringCacheMap.Types.html#CacheSettings" class="link">Source</a> <a href="#t:CacheSettings" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:CacheWithLRUList" class="def">CacheWithLRUList</a></td><td class="doc"><p>A cache that maintains a key access history list to perform removals
 of <em>least recently used</em> entries. Once the key-value map reaches 
 <code><a href="Caching-ExpiringCacheMap-Types.html#v:removalsize" title="Caching.ExpiringCacheMap.Types">removalsize</a></code> keys, then a list of keys to keep in the map is determined 
 which is no larger than <code><a href="Caching-ExpiringCacheMap-Types.html#v:mapsize" title="Caching.ExpiringCacheMap.Types">mapsize</a></code> size. Entries are removed only on 
 insertion of a new entry in the key-value map.</p><p>Key access history entries are prepended to the head of the LRU list, 
 if an existing entry for the key appears close to the head of the list
 it is moved to the head of the list, instead of growing the list. When the 
 LRU list reaches <code><a href="Caching-ExpiringCacheMap-Types.html#v:compactlistsize" title="Caching.ExpiringCacheMap.Types">compactlistsize</a></code> items, it is compacted by removing 
 duplicate keys, by keeping only the most recent accumulator value for 
 that key.</p></td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:mapsize" class="def">mapsize</a> :: <a href="Caching-ExpiringCacheMap-Types.html#t:ECMMapSize" title="Caching.ExpiringCacheMap.Types">ECMMapSize</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:removalsize" class="def">removalsize</a> :: <a href="Caching-ExpiringCacheMap-Types.html#t:ECMMapSize" title="Caching.ExpiringCacheMap.Types">ECMMapSize</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:compactlistsize" class="def">compactlistsize</a> :: <a href="Caching-ExpiringCacheMap-Types.html#t:ECMULength" title="Caching.ExpiringCacheMap.Types">ECMULength</a></dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div></div><a href="#g:2" id="g:2"><h1>Cache encapsulation</h1></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:ECM" class="def">ECM</a> a b s m k v <a href="src/Caching.ExpiringCacheMap.Internal.Types.html#ECM" class="link">Source</a> <a href="#t:ECM" class="selflink">#</a></p><div class="doc"><p>The type that encapsulates a cache map.</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:CacheState" class="def">CacheState</a> s m k v <a href="src/Caching.ExpiringCacheMap.Internal.Types.html#CacheState" class="link">Source</a> <a href="#t:CacheState" class="selflink">#</a></p><div class="doc"><p>The cache state.</p></div></div><a href="#g:3" id="g:3"><h1>Types</h1></a><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:TimeUnits" class="def">TimeUnits</a> = <a href="../base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="src/Caching.ExpiringCacheMap.Utils.Types.html#TimeUnits" class="link">Source</a> <a href="#t:TimeUnits" class="selflink">#</a></p><div class="doc"><p>Integer involved in the time units used to determine when an item expires.
 The time units used can be any arbitrary integer time representation, such
 as seconds or milliseconds for examples. They can also be deterministic time
 steps in a sequencing monad.</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:ECMMapSize" class="def">ECMMapSize</a> = <a href="../base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="src/Caching.ExpiringCacheMap.Utils.Types.html#ECMMapSize" class="link">Source</a> <a href="#t:ECMMapSize" class="selflink">#</a></p><div class="doc"><p>Integer involved in the size of a key-value map.</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:ECMULength" class="def">ECMULength</a> = <a href="../base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="src/Caching.ExpiringCacheMap.Utils.Types.html#ECMULength" class="link">Source</a> <a href="#t:ECMULength" class="selflink">#</a></p><div class="doc"><p>Integer involved in the length of the usage history list.</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:ECMIncr" class="def">ECMIncr</a> = <a href="../base-4.18.2.1/Data-Word.html#t:Word32" title="Data.Word">Word32</a> <a href="src/Caching.ExpiringCacheMap.Utils.Types.html#ECMIncr" class="link">Source</a> <a href="#t:ECMIncr" class="selflink">#</a></p><div class="doc"><p>Unsigned integer (<code><a href="../base-4.18.2.1/Data-Word.html#t:Word32" title="Data.Word">Word32</a></code>) involved in the cache state incrementing accumulator.</p></div></div><a href="#g:4" id="g:4"><h1>Types for state function</h1></a><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:ECMNewState" class="def">ECMNewState</a> a b s m k v = <a href="Caching-ExpiringCacheMap-Types.html#t:CacheState" title="Caching.ExpiringCacheMap.Types">CacheState</a> s m k v -&gt; a (b (<a href="Caching-ExpiringCacheMap-Types.html#t:CacheState" title="Caching.ExpiringCacheMap.Types">CacheState</a> s m k v)) <a href="src/Caching.ExpiringCacheMap.Internal.Types.html#ECMNewState" class="link">Source</a> <a href="#t:ECMNewState" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:ECMEnterState" class="def">ECMEnterState</a> a b s m k v = b (<a href="Caching-ExpiringCacheMap-Types.html#t:CacheState" title="Caching.ExpiringCacheMap.Types">CacheState</a> s m k v) -&gt; (<a href="Caching-ExpiringCacheMap-Types.html#t:CacheState" title="Caching.ExpiringCacheMap.Types">CacheState</a> s m k v -&gt; a (<a href="Caching-ExpiringCacheMap-Types.html#t:CacheState" title="Caching.ExpiringCacheMap.Types">CacheState</a> s m k v, v)) -&gt; a v <a href="src/Caching.ExpiringCacheMap.Internal.Types.html#ECMEnterState" class="link">Source</a> <a href="#t:ECMEnterState" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:ECMReadState" class="def">ECMReadState</a> a b s m k v = b (<a href="Caching-ExpiringCacheMap-Types.html#t:CacheState" title="Caching.ExpiringCacheMap.Types">CacheState</a> s m k v) -&gt; a (<a href="Caching-ExpiringCacheMap-Types.html#t:CacheState" title="Caching.ExpiringCacheMap.Types">CacheState</a> s m k v) <a href="src/Caching.ExpiringCacheMap.Internal.Types.html#ECMReadState" class="link">Source</a> <a href="#t:ECMReadState" class="selflink">#</a></p></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.29.2</p></div></body></html>