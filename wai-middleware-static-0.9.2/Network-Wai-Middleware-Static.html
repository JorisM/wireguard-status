<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Network.Wai.Middleware.Static</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">wai-middleware-static-0.9.2: WAI middleware that serves requests to static files.</span><ul class="links" id="page-menu"><li><a href="src/Network.Wai.Middleware.Static.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>Safe-Inferred</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Network.Wai.Middleware.Static</p></div><div id="table-of-contents"><div id="contents-list"><p class="caption" onclick="window.scrollTo(0,0)">Contents</p><ul><li><a href="#g:1">Middlewares</a></li><li><a href="#g:2">Options</a></li><li><a href="#g:3">Cache Control</a></li><li><a href="#g:4">Policies</a></li><li><a href="#g:5">Utilities</a></li><li><a href="#g:6">MIME types</a></li></ul></div></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Serve static files, subject to a policy that can filter or
   modify incoming URIs. The flow is:</p><p>incoming request URI ==&gt; policies ==&gt; exists? ==&gt; respond</p><p>If any of the polices fail, or the file doesn't
   exist, then the middleware gives up and calls the inner application.
   If the file is found, the middleware chooses a content type based
   on the file extension and returns the file contents as the response.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:static">static</a> :: <a href="../wai-3.2.4/Network-Wai.html#t:Middleware" title="Network.Wai">Middleware</a></li><li class="src short"><a href="#v:staticPolicy">staticPolicy</a> :: <a href="Network-Wai-Middleware-Static.html#t:Policy" title="Network.Wai.Middleware.Static">Policy</a> -&gt; <a href="../wai-3.2.4/Network-Wai.html#t:Middleware" title="Network.Wai">Middleware</a></li><li class="src short"><a href="#v:unsafeStaticPolicy">unsafeStaticPolicy</a> :: <a href="Network-Wai-Middleware-Static.html#t:Policy" title="Network.Wai.Middleware.Static">Policy</a> -&gt; <a href="../wai-3.2.4/Network-Wai.html#t:Middleware" title="Network.Wai">Middleware</a></li><li class="src short"><a href="#v:static-39-">static'</a> :: <a href="Network-Wai-Middleware-Static.html#t:CacheContainer" title="Network.Wai.Middleware.Static">CacheContainer</a> -&gt; <a href="../wai-3.2.4/Network-Wai.html#t:Middleware" title="Network.Wai">Middleware</a></li><li class="src short"><a href="#v:staticPolicy-39-">staticPolicy'</a> :: <a href="Network-Wai-Middleware-Static.html#t:CacheContainer" title="Network.Wai.Middleware.Static">CacheContainer</a> -&gt; <a href="Network-Wai-Middleware-Static.html#t:Policy" title="Network.Wai.Middleware.Static">Policy</a> -&gt; <a href="../wai-3.2.4/Network-Wai.html#t:Middleware" title="Network.Wai">Middleware</a></li><li class="src short"><a href="#v:unsafeStaticPolicy-39-">unsafeStaticPolicy'</a> :: <a href="Network-Wai-Middleware-Static.html#t:CacheContainer" title="Network.Wai.Middleware.Static">CacheContainer</a> -&gt; <a href="Network-Wai-Middleware-Static.html#t:Policy" title="Network.Wai.Middleware.Static">Policy</a> -&gt; <a href="../wai-3.2.4/Network-Wai.html#t:Middleware" title="Network.Wai">Middleware</a></li><li class="src short"><a href="#v:staticWithOptions">staticWithOptions</a> :: <a href="Network-Wai-Middleware-Static.html#t:Options" title="Network.Wai.Middleware.Static">Options</a> -&gt; <a href="../wai-3.2.4/Network-Wai.html#t:Middleware" title="Network.Wai">Middleware</a></li><li class="src short"><a href="#v:staticPolicyWithOptions">staticPolicyWithOptions</a> :: <a href="Network-Wai-Middleware-Static.html#t:Options" title="Network.Wai.Middleware.Static">Options</a> -&gt; <a href="Network-Wai-Middleware-Static.html#t:Policy" title="Network.Wai.Middleware.Static">Policy</a> -&gt; <a href="../wai-3.2.4/Network-Wai.html#t:Middleware" title="Network.Wai">Middleware</a></li><li class="src short"><a href="#v:unsafeStaticPolicyWithOptions">unsafeStaticPolicyWithOptions</a> :: <a href="Network-Wai-Middleware-Static.html#t:Options" title="Network.Wai.Middleware.Static">Options</a> -&gt; <a href="Network-Wai-Middleware-Static.html#t:Policy" title="Network.Wai.Middleware.Static">Policy</a> -&gt; <a href="../wai-3.2.4/Network-Wai.html#t:Middleware" title="Network.Wai">Middleware</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:Options">Options</a></li><li class="src short"><a href="#v:cacheContainer">cacheContainer</a> :: <a href="Network-Wai-Middleware-Static.html#t:Options" title="Network.Wai.Middleware.Static">Options</a> -&gt; <a href="Network-Wai-Middleware-Static.html#t:CacheContainer" title="Network.Wai.Middleware.Static">CacheContainer</a></li><li class="src short"><a href="#v:mimeTypes">mimeTypes</a> :: <a href="Network-Wai-Middleware-Static.html#t:Options" title="Network.Wai.Middleware.Static">Options</a> -&gt; <a href="../base-4.18.2.1/System-IO.html#t:FilePath" title="System.IO">FilePath</a> -&gt; <a href="../mime-types-0.1.2.0/Network-Mime.html#t:MimeType" title="Network.Mime">MimeType</a></li><li class="src short"><a href="#v:defaultOptions">defaultOptions</a> :: <a href="Network-Wai-Middleware-Static.html#t:Options" title="Network.Wai.Middleware.Static">Options</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:CachingStrategy">CachingStrategy</a><ul class="subs"><li>= <a href="#v:NoCaching">NoCaching</a></li><li>| <a href="#v:PublicStaticCaching">PublicStaticCaching</a></li><li>| <a href="#v:CustomCaching">CustomCaching</a> (<a href="Network-Wai-Middleware-Static.html#t:FileMeta" title="Network.Wai.Middleware.Static">FileMeta</a> -&gt; <a href="../http-types-0.12.4/Network-HTTP-Types-Header.html#t:RequestHeaders" title="Network.HTTP.Types.Header">RequestHeaders</a>)</li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:FileMeta">FileMeta</a> = <a href="#v:FileMeta">FileMeta</a> {<ul class="subs"><li><a href="#v:fm_lastModified">fm_lastModified</a> :: !<a href="../bytestring-0.11.5.3/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a></li><li><a href="#v:fm_etag">fm_etag</a> :: !<a href="../bytestring-0.11.5.3/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a></li><li><a href="#v:fm_fileName">fm_fileName</a> :: <a href="../base-4.18.2.1/System-IO.html#t:FilePath" title="System.IO">FilePath</a></li></ul>}</li><li class="src short"><a href="#v:initCaching">initCaching</a> :: <a href="Network-Wai-Middleware-Static.html#t:CachingStrategy" title="Network.Wai.Middleware.Static">CachingStrategy</a> -&gt; <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> <a href="Network-Wai-Middleware-Static.html#t:CacheContainer" title="Network.Wai.Middleware.Static">CacheContainer</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:CacheContainer">CacheContainer</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:Policy">Policy</a></li><li class="src short"><a href="#v:-60--124--62-">(&lt;|&gt;)</a> :: <a href="Network-Wai-Middleware-Static.html#t:Policy" title="Network.Wai.Middleware.Static">Policy</a> -&gt; <a href="Network-Wai-Middleware-Static.html#t:Policy" title="Network.Wai.Middleware.Static">Policy</a> -&gt; <a href="Network-Wai-Middleware-Static.html#t:Policy" title="Network.Wai.Middleware.Static">Policy</a></li><li class="src short"><a href="#v:-62--45--62-">(&gt;-&gt;)</a> :: <a href="Network-Wai-Middleware-Static.html#t:Policy" title="Network.Wai.Middleware.Static">Policy</a> -&gt; <a href="Network-Wai-Middleware-Static.html#t:Policy" title="Network.Wai.Middleware.Static">Policy</a> -&gt; <a href="Network-Wai-Middleware-Static.html#t:Policy" title="Network.Wai.Middleware.Static">Policy</a></li><li class="src short"><a href="#v:policy">policy</a> :: (<a href="../base-4.18.2.1/Data-String.html#t:String" title="Data.String">String</a> -&gt; <a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../base-4.18.2.1/Data-String.html#t:String" title="Data.String">String</a>) -&gt; <a href="Network-Wai-Middleware-Static.html#t:Policy" title="Network.Wai.Middleware.Static">Policy</a></li><li class="src short"><a href="#v:predicate">predicate</a> :: (<a href="../base-4.18.2.1/Data-String.html#t:String" title="Data.String">String</a> -&gt; <a href="../base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>) -&gt; <a href="Network-Wai-Middleware-Static.html#t:Policy" title="Network.Wai.Middleware.Static">Policy</a></li><li class="src short"><a href="#v:addBase">addBase</a> :: <a href="../base-4.18.2.1/Data-String.html#t:String" title="Data.String">String</a> -&gt; <a href="Network-Wai-Middleware-Static.html#t:Policy" title="Network.Wai.Middleware.Static">Policy</a></li><li class="src short"><a href="#v:addSlash">addSlash</a> :: <a href="Network-Wai-Middleware-Static.html#t:Policy" title="Network.Wai.Middleware.Static">Policy</a></li><li class="src short"><a href="#v:contains">contains</a> :: <a href="../base-4.18.2.1/Data-String.html#t:String" title="Data.String">String</a> -&gt; <a href="Network-Wai-Middleware-Static.html#t:Policy" title="Network.Wai.Middleware.Static">Policy</a></li><li class="src short"><a href="#v:hasPrefix">hasPrefix</a> :: <a href="../base-4.18.2.1/Data-String.html#t:String" title="Data.String">String</a> -&gt; <a href="Network-Wai-Middleware-Static.html#t:Policy" title="Network.Wai.Middleware.Static">Policy</a></li><li class="src short"><a href="#v:hasSuffix">hasSuffix</a> :: <a href="../base-4.18.2.1/Data-String.html#t:String" title="Data.String">String</a> -&gt; <a href="Network-Wai-Middleware-Static.html#t:Policy" title="Network.Wai.Middleware.Static">Policy</a></li><li class="src short"><a href="#v:noDots">noDots</a> :: <a href="Network-Wai-Middleware-Static.html#t:Policy" title="Network.Wai.Middleware.Static">Policy</a></li><li class="src short"><a href="#v:isNotAbsolute">isNotAbsolute</a> :: <a href="Network-Wai-Middleware-Static.html#t:Policy" title="Network.Wai.Middleware.Static">Policy</a></li><li class="src short"><a href="#v:only">only</a> :: [(<a href="../base-4.18.2.1/Data-String.html#t:String" title="Data.String">String</a>, <a href="../base-4.18.2.1/Data-String.html#t:String" title="Data.String">String</a>)] -&gt; <a href="Network-Wai-Middleware-Static.html#t:Policy" title="Network.Wai.Middleware.Static">Policy</a></li><li class="src short"><a href="#v:tryPolicy">tryPolicy</a> :: <a href="Network-Wai-Middleware-Static.html#t:Policy" title="Network.Wai.Middleware.Static">Policy</a> -&gt; <a href="../base-4.18.2.1/Data-String.html#t:String" title="Data.String">String</a> -&gt; <a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../base-4.18.2.1/System-IO.html#t:FilePath" title="System.IO">FilePath</a></li><li class="src short"><a href="#v:getMimeType">getMimeType</a> :: <a href="../base-4.18.2.1/System-IO.html#t:FilePath" title="System.IO">FilePath</a> -&gt; <a href="../mime-types-0.1.2.0/Network-Mime.html#t:MimeType" title="Network.Mime">MimeType</a></li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>Middlewares</h1></a><div class="top"><p class="src"><a id="v:static" class="def">static</a> :: <a href="../wai-3.2.4/Network-Wai.html#t:Middleware" title="Network.Wai">Middleware</a> <a href="src/Network.Wai.Middleware.Static.html#static" class="link">Source</a> <a href="#v:static" class="selflink">#</a></p><div class="doc"><p>Serve static files out of the application root (current directory).
 If file is found, it is streamed to the client and no further middleware is run. Disables caching.</p><p>Note: for security reasons, this uses the <code><a href="Network-Wai-Middleware-Static.html#v:noDots" title="Network.Wai.Middleware.Static">noDots</a></code> and <code><a href="Network-Wai-Middleware-Static.html#v:isNotAbsolute" title="Network.Wai.Middleware.Static">isNotAbsolute</a></code> policy by default.</p></div></div><div class="top"><p class="src"><a id="v:staticPolicy" class="def">staticPolicy</a> :: <a href="Network-Wai-Middleware-Static.html#t:Policy" title="Network.Wai.Middleware.Static">Policy</a> -&gt; <a href="../wai-3.2.4/Network-Wai.html#t:Middleware" title="Network.Wai">Middleware</a> <a href="src/Network.Wai.Middleware.Static.html#staticPolicy" class="link">Source</a> <a href="#v:staticPolicy" class="selflink">#</a></p><div class="doc"><p>Serve static files subject to a <code><a href="Network-Wai-Middleware-Static.html#t:Policy" title="Network.Wai.Middleware.Static">Policy</a></code>. Disables caching.</p><p>Note: for security reasons, this uses the <code><a href="Network-Wai-Middleware-Static.html#v:noDots" title="Network.Wai.Middleware.Static">noDots</a></code> and <code><a href="Network-Wai-Middleware-Static.html#v:isNotAbsolute" title="Network.Wai.Middleware.Static">isNotAbsolute</a></code> policy by default.</p></div></div><div class="top"><p class="src"><a id="v:unsafeStaticPolicy" class="def">unsafeStaticPolicy</a> :: <a href="Network-Wai-Middleware-Static.html#t:Policy" title="Network.Wai.Middleware.Static">Policy</a> -&gt; <a href="../wai-3.2.4/Network-Wai.html#t:Middleware" title="Network.Wai">Middleware</a> <a href="src/Network.Wai.Middleware.Static.html#unsafeStaticPolicy" class="link">Source</a> <a href="#v:unsafeStaticPolicy" class="selflink">#</a></p><div class="doc"><p>Serve static files subject to a <code><a href="Network-Wai-Middleware-Static.html#t:Policy" title="Network.Wai.Middleware.Static">Policy</a></code>. Unlike <code><a href="Network-Wai-Middleware-Static.html#v:static" title="Network.Wai.Middleware.Static">static</a></code> and <code><a href="Network-Wai-Middleware-Static.html#v:staticPolicy" title="Network.Wai.Middleware.Static">staticPolicy</a></code>, this
 has no policies enabled by default and is hence insecure. Disables caching.</p></div></div><div class="top"><p class="src"><a id="v:static-39-" class="def">static'</a> :: <a href="Network-Wai-Middleware-Static.html#t:CacheContainer" title="Network.Wai.Middleware.Static">CacheContainer</a> -&gt; <a href="../wai-3.2.4/Network-Wai.html#t:Middleware" title="Network.Wai">Middleware</a> <a href="src/Network.Wai.Middleware.Static.html#static%27" class="link">Source</a> <a href="#v:static-39-" class="selflink">#</a></p><div class="doc"><div class="warning"><p>Deprecated: Use <code><a href="Network-Wai-Middleware-Static.html#v:staticWithOptions" title="Network.Wai.Middleware.Static">staticWithOptions</a></code> instead. This function will be removed in the next major release.</p></div><p>Serve static files out of the application root (current directory).
 If file is found, it is streamed to the client and no further middleware is run. Allows a <code><a href="Network-Wai-Middleware-Static.html#t:CachingStrategy" title="Network.Wai.Middleware.Static">CachingStrategy</a></code>.</p><p>Note: for security reasons, this uses the <code><a href="Network-Wai-Middleware-Static.html#v:noDots" title="Network.Wai.Middleware.Static">noDots</a></code> and <code><a href="Network-Wai-Middleware-Static.html#v:isNotAbsolute" title="Network.Wai.Middleware.Static">isNotAbsolute</a></code> policy by default.</p></div></div><div class="top"><p class="src"><a id="v:staticPolicy-39-" class="def">staticPolicy'</a> :: <a href="Network-Wai-Middleware-Static.html#t:CacheContainer" title="Network.Wai.Middleware.Static">CacheContainer</a> -&gt; <a href="Network-Wai-Middleware-Static.html#t:Policy" title="Network.Wai.Middleware.Static">Policy</a> -&gt; <a href="../wai-3.2.4/Network-Wai.html#t:Middleware" title="Network.Wai">Middleware</a> <a href="src/Network.Wai.Middleware.Static.html#staticPolicy%27" class="link">Source</a> <a href="#v:staticPolicy-39-" class="selflink">#</a></p><div class="doc"><div class="warning"><p>Deprecated: Use <code><a href="Network-Wai-Middleware-Static.html#v:staticPolicyWithOptions" title="Network.Wai.Middleware.Static">staticPolicyWithOptions</a></code> instead. This function will be removed in the next major release.</p></div><p>Serve static files subject to a <code><a href="Network-Wai-Middleware-Static.html#t:Policy" title="Network.Wai.Middleware.Static">Policy</a></code> using a specified <code><a href="Network-Wai-Middleware-Static.html#t:CachingStrategy" title="Network.Wai.Middleware.Static">CachingStrategy</a></code></p><p>Note: for security reasons, this uses the <code><a href="Network-Wai-Middleware-Static.html#v:noDots" title="Network.Wai.Middleware.Static">noDots</a></code> and <code><a href="Network-Wai-Middleware-Static.html#v:isNotAbsolute" title="Network.Wai.Middleware.Static">isNotAbsolute</a></code> policy by default.</p></div></div><div class="top"><p class="src"><a id="v:unsafeStaticPolicy-39-" class="def">unsafeStaticPolicy'</a> :: <a href="Network-Wai-Middleware-Static.html#t:CacheContainer" title="Network.Wai.Middleware.Static">CacheContainer</a> -&gt; <a href="Network-Wai-Middleware-Static.html#t:Policy" title="Network.Wai.Middleware.Static">Policy</a> -&gt; <a href="../wai-3.2.4/Network-Wai.html#t:Middleware" title="Network.Wai">Middleware</a> <a href="src/Network.Wai.Middleware.Static.html#unsafeStaticPolicy%27" class="link">Source</a> <a href="#v:unsafeStaticPolicy-39-" class="selflink">#</a></p><div class="doc"><div class="warning"><p>Deprecated: Use <code><a href="Network-Wai-Middleware-Static.html#v:unsafeStaticPolicyWithOptions" title="Network.Wai.Middleware.Static">unsafeStaticPolicyWithOptions</a></code> instead. This function will be removed in the next major release.</p></div><p>Serve static files subject to a <code><a href="Network-Wai-Middleware-Static.html#t:Policy" title="Network.Wai.Middleware.Static">Policy</a></code>. Unlike <code><a href="Network-Wai-Middleware-Static.html#v:static" title="Network.Wai.Middleware.Static">static</a></code> and <code><a href="Network-Wai-Middleware-Static.html#v:staticPolicy" title="Network.Wai.Middleware.Static">staticPolicy</a></code>, this
 has no policies enabled by default, and is hence insecure. Also allows to set a <code><a href="Network-Wai-Middleware-Static.html#t:CachingStrategy" title="Network.Wai.Middleware.Static">CachingStrategy</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:staticWithOptions" class="def">staticWithOptions</a> :: <a href="Network-Wai-Middleware-Static.html#t:Options" title="Network.Wai.Middleware.Static">Options</a> -&gt; <a href="../wai-3.2.4/Network-Wai.html#t:Middleware" title="Network.Wai">Middleware</a> <a href="src/Network.Wai.Middleware.Static.html#staticWithOptions" class="link">Source</a> <a href="#v:staticWithOptions" class="selflink">#</a></p><div class="doc"><p>Serve static files out of the application root (current directory).
 If file is found, it is streamed to the client and no further middleware is run. Takes <code><a href="Network-Wai-Middleware-Static.html#t:Options" title="Network.Wai.Middleware.Static">Options</a></code>.</p><p>Note: for security reasons, this uses the <code><a href="Network-Wai-Middleware-Static.html#v:noDots" title="Network.Wai.Middleware.Static">noDots</a></code> and <code><a href="Network-Wai-Middleware-Static.html#v:isNotAbsolute" title="Network.Wai.Middleware.Static">isNotAbsolute</a></code> policy by default.</p></div></div><div class="top"><p class="src"><a id="v:staticPolicyWithOptions" class="def">staticPolicyWithOptions</a> :: <a href="Network-Wai-Middleware-Static.html#t:Options" title="Network.Wai.Middleware.Static">Options</a> -&gt; <a href="Network-Wai-Middleware-Static.html#t:Policy" title="Network.Wai.Middleware.Static">Policy</a> -&gt; <a href="../wai-3.2.4/Network-Wai.html#t:Middleware" title="Network.Wai">Middleware</a> <a href="src/Network.Wai.Middleware.Static.html#staticPolicyWithOptions" class="link">Source</a> <a href="#v:staticPolicyWithOptions" class="selflink">#</a></p><div class="doc"><p>Serve static files subject to a <code><a href="Network-Wai-Middleware-Static.html#t:Policy" title="Network.Wai.Middleware.Static">Policy</a></code> using specified <code><a href="Network-Wai-Middleware-Static.html#t:Options" title="Network.Wai.Middleware.Static">Options</a></code></p><p>Note: for security reasons, this uses the <code><a href="Network-Wai-Middleware-Static.html#v:noDots" title="Network.Wai.Middleware.Static">noDots</a></code> and <code><a href="Network-Wai-Middleware-Static.html#v:isNotAbsolute" title="Network.Wai.Middleware.Static">isNotAbsolute</a></code> policy by default.</p></div></div><div class="top"><p class="src"><a id="v:unsafeStaticPolicyWithOptions" class="def">unsafeStaticPolicyWithOptions</a> :: <a href="Network-Wai-Middleware-Static.html#t:Options" title="Network.Wai.Middleware.Static">Options</a> -&gt; <a href="Network-Wai-Middleware-Static.html#t:Policy" title="Network.Wai.Middleware.Static">Policy</a> -&gt; <a href="../wai-3.2.4/Network-Wai.html#t:Middleware" title="Network.Wai">Middleware</a> <a href="src/Network.Wai.Middleware.Static.html#unsafeStaticPolicyWithOptions" class="link">Source</a> <a href="#v:unsafeStaticPolicyWithOptions" class="selflink">#</a></p><div class="doc"><p>Serve static files subject to a <code><a href="Network-Wai-Middleware-Static.html#t:Policy" title="Network.Wai.Middleware.Static">Policy</a></code>. Unlike <code><a href="Network-Wai-Middleware-Static.html#v:staticWithOptions" title="Network.Wai.Middleware.Static">staticWithOptions</a></code> and <code><a href="Network-Wai-Middleware-Static.html#v:staticPolicyWithOptions" title="Network.Wai.Middleware.Static">staticPolicyWithOptions</a></code>,
 this has no policies enabled by default and is hence insecure. Takes <code><a href="Network-Wai-Middleware-Static.html#t:Options" title="Network.Wai.Middleware.Static">Options</a></code>.</p></div></div><a href="#g:2" id="g:2"><h1>Options</h1></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Options" class="def">Options</a> <a href="src/Network.Wai.Middleware.Static.html#Options" class="link">Source</a> <a href="#t:Options" class="selflink">#</a></p><div class="doc"><p>Options for <code><a href="Network-Wai-Middleware-Static.html#v:staticWithOptions" title="Network.Wai.Middleware.Static">staticWithOptions</a></code> <code><a href="../wai-3.2.4/Network-Wai.html#t:Middleware" title="Network.Wai">Middleware</a></code>.</p><p>Options can be set using record syntax on <code><a href="Network-Wai-Middleware-Static.html#v:defaultOptions" title="Network.Wai.Middleware.Static">defaultOptions</a></code> with the fields below.</p></div></div><div class="top"><p class="src"><a id="v:cacheContainer" class="def">cacheContainer</a> :: <a href="Network-Wai-Middleware-Static.html#t:Options" title="Network.Wai.Middleware.Static">Options</a> -&gt; <a href="Network-Wai-Middleware-Static.html#t:CacheContainer" title="Network.Wai.Middleware.Static">CacheContainer</a> <a href="src/Network.Wai.Middleware.Static.html#cacheContainer" class="link">Source</a> <a href="#v:cacheContainer" class="selflink">#</a></p><div class="doc"><p>Cache container to use</p></div></div><div class="top"><p class="src"><a id="v:mimeTypes" class="def">mimeTypes</a> :: <a href="Network-Wai-Middleware-Static.html#t:Options" title="Network.Wai.Middleware.Static">Options</a> -&gt; <a href="../base-4.18.2.1/System-IO.html#t:FilePath" title="System.IO">FilePath</a> -&gt; <a href="../mime-types-0.1.2.0/Network-Mime.html#t:MimeType" title="Network.Mime">MimeType</a> <a href="src/Network.Wai.Middleware.Static.html#mimeTypes" class="link">Source</a> <a href="#v:mimeTypes" class="selflink">#</a></p><div class="doc"><p>Compute MimeType from file name</p></div></div><div class="top"><p class="src"><a id="v:defaultOptions" class="def">defaultOptions</a> :: <a href="Network-Wai-Middleware-Static.html#t:Options" title="Network.Wai.Middleware.Static">Options</a> <a href="src/Network.Wai.Middleware.Static.html#defaultOptions" class="link">Source</a> <a href="#v:defaultOptions" class="selflink">#</a></p><div class="doc"><p>Default options.</p><pre><code><a href="Network-Wai-Middleware-Static.html#t:Options" title="Network.Wai.Middleware.Static">Options</a></code>
{ <code><a href="Network-Wai-Middleware-Static.html#v:cacheContainer" title="Network.Wai.Middleware.Static">cacheContainer</a></code> = <code>CacheContainerEmpty</code> -- no caching
, <code><a href="Network-Wai-Middleware-Static.html#v:mimeTypes" title="Network.Wai.Middleware.Static">mimeTypes</a></code>      = <code><a href="Network-Wai-Middleware-Static.html#v:getMimeType" title="Network.Wai.Middleware.Static">getMimeType</a></code>         -- use <code><a href="../mime-types-0.1.2.0/Network-Mime.html#v:defaultMimeLookup" title="Network.Mime">defaultMimeLookup</a></code> from <code><a href="Network.html#v:Mime" title="Network">Mime</a></code>
}
</pre></div></div><a href="#g:3" id="g:3"><h1>Cache Control</h1></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:CachingStrategy" class="def">CachingStrategy</a> <a href="src/Network.Wai.Middleware.Static.html#CachingStrategy" class="link">Source</a> <a href="#t:CachingStrategy" class="selflink">#</a></p><div class="doc"><p>A cache strategy which should be used to
 serve content matching a policy. Meta information is cached for a maxium of
 100 seconds before being recomputed.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:NoCaching" class="def">NoCaching</a></td><td class="doc"><p>Do not send any caching headers</p></td></tr><tr><td class="src"><a id="v:PublicStaticCaching" class="def">PublicStaticCaching</a></td><td class="doc"><p>Send common caching headers for public (non dynamic) static files</p></td></tr><tr><td class="src"><a id="v:CustomCaching" class="def">CustomCaching</a> (<a href="Network-Wai-Middleware-Static.html#t:FileMeta" title="Network.Wai.Middleware.Static">FileMeta</a> -&gt; <a href="../http-types-0.12.4/Network-HTTP-Types-Header.html#t:RequestHeaders" title="Network.HTTP.Types.Header">RequestHeaders</a>)</td><td class="doc"><p>Compute caching headers using the user specified function.
 See <a href="http://www.mobify.com/blog/beginners-guide-to-http-cache-headers/">http://www.mobify.com/blog/beginners-guide-to-http-cache-headers/</a> for a detailed guide</p></td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:FileMeta" class="def">FileMeta</a> <a href="src/Network.Wai.Middleware.Static.html#FileMeta" class="link">Source</a> <a href="#t:FileMeta" class="selflink">#</a></p><div class="doc"><p>Meta information about a file to calculate cache headers</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:FileMeta" class="def">FileMeta</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:fm_lastModified" class="def">fm_lastModified</a> :: !<a href="../bytestring-0.11.5.3/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:fm_etag" class="def">fm_etag</a> :: !<a href="../bytestring-0.11.5.3/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:fm_fileName" class="def">fm_fileName</a> :: <a href="../base-4.18.2.1/System-IO.html#t:FilePath" title="System.IO">FilePath</a></dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:FileMeta">Instances</h4><details id="i:FileMeta" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:FileMeta:Show:1"></span> <a href="../base-4.18.2.1/Text-Show.html#t:Show" title="Text.Show">Show</a> <a href="Network-Wai-Middleware-Static.html#t:FileMeta" title="Network.Wai.Middleware.Static">FileMeta</a></span> <a href="src/Network.Wai.Middleware.Static.html#line-308" class="link">Source</a> <a href="#t:FileMeta" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:FileMeta:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Network-Wai-Middleware-Static.html">Network.Wai.Middleware.Static</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="../base-4.18.2.1/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Network-Wai-Middleware-Static.html#t:FileMeta" title="Network.Wai.Middleware.Static">FileMeta</a> -&gt; <a href="../base-4.18.2.1/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Network-Wai-Middleware-Static.html#t:FileMeta" title="Network.Wai.Middleware.Static">FileMeta</a> -&gt; <a href="../base-4.18.2.1/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Network-Wai-Middleware-Static.html#t:FileMeta" title="Network.Wai.Middleware.Static">FileMeta</a>] -&gt; <a href="../base-4.18.2.1/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:FileMeta:Eq:2"></span> <a href="../base-4.18.2.1/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> <a href="Network-Wai-Middleware-Static.html#t:FileMeta" title="Network.Wai.Middleware.Static">FileMeta</a></span> <a href="src/Network.Wai.Middleware.Static.html#line-308" class="link">Source</a> <a href="#t:FileMeta" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:FileMeta:Eq:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Network-Wai-Middleware-Static.html">Network.Wai.Middleware.Static</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Network-Wai-Middleware-Static.html#t:FileMeta" title="Network.Wai.Middleware.Static">FileMeta</a> -&gt; <a href="Network-Wai-Middleware-Static.html#t:FileMeta" title="Network.Wai.Middleware.Static">FileMeta</a> -&gt; <a href="../base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Network-Wai-Middleware-Static.html#t:FileMeta" title="Network.Wai.Middleware.Static">FileMeta</a> -&gt; <a href="Network-Wai-Middleware-Static.html#t:FileMeta" title="Network.Wai.Middleware.Static">FileMeta</a> -&gt; <a href="../base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:initCaching" class="def">initCaching</a> :: <a href="Network-Wai-Middleware-Static.html#t:CachingStrategy" title="Network.Wai.Middleware.Static">CachingStrategy</a> -&gt; <a href="../base-4.18.2.1/System-IO.html#t:IO" title="System.IO">IO</a> <a href="Network-Wai-Middleware-Static.html#t:CacheContainer" title="Network.Wai.Middleware.Static">CacheContainer</a> <a href="src/Network.Wai.Middleware.Static.html#initCaching" class="link">Source</a> <a href="#v:initCaching" class="selflink">#</a></p><div class="doc"><p>Initialize caching. This should only be done once per application launch.</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:CacheContainer" class="def">CacheContainer</a> <a href="src/Network.Wai.Middleware.Static.html#CacheContainer" class="link">Source</a> <a href="#t:CacheContainer" class="selflink">#</a></p><div class="doc"><p>Container caching file meta information. Create using <code><a href="Network-Wai-Middleware-Static.html#v:initCaching" title="Network.Wai.Middleware.Static">initCaching</a></code></p></div></div><a href="#g:4" id="g:4"><h1>Policies</h1></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Policy" class="def">Policy</a> <a href="src/Network.Wai.Middleware.Static.html#Policy" class="link">Source</a> <a href="#t:Policy" class="selflink">#</a></p><div class="doc"><p>Take an incoming URI and optionally modify or filter it.
   The result will be treated as a filepath.</p></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:Policy">Instances</h4><details id="i:Policy" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Policy:Monoid:1"></span> <a href="../base-4.18.2.1/Data-Monoid.html#t:Monoid" title="Data.Monoid">Monoid</a> <a href="Network-Wai-Middleware-Static.html#t:Policy" title="Network.Wai.Middleware.Static">Policy</a></span> <a href="src/Network.Wai.Middleware.Static.html#line-101" class="link">Source</a> <a href="#t:Policy" class="selflink">#</a></td><td class="doc"><p>Note:
   <code><a href="../base-4.18.2.1/Data-Monoid.html#v:mempty" title="Data.Monoid">mempty</a></code> == <code>policy Just</code> (the always accepting policy)
   <code><a href="../base-4.18.2.1/Data-Monoid.html#v:mappend" title="Data.Monoid">mappend</a></code> == <code>&gt;-&gt;</code> (policy sequencing)</p></td></tr><tr><td colspan="2"><details id="i:id:Policy:Monoid:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Network-Wai-Middleware-Static.html">Network.Wai.Middleware.Static</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:mempty">mempty</a> :: <a href="Network-Wai-Middleware-Static.html#t:Policy" title="Network.Wai.Middleware.Static">Policy</a> <a href="#v:mempty" class="selflink">#</a></p><p class="src"><a href="#v:mappend">mappend</a> :: <a href="Network-Wai-Middleware-Static.html#t:Policy" title="Network.Wai.Middleware.Static">Policy</a> -&gt; <a href="Network-Wai-Middleware-Static.html#t:Policy" title="Network.Wai.Middleware.Static">Policy</a> -&gt; <a href="Network-Wai-Middleware-Static.html#t:Policy" title="Network.Wai.Middleware.Static">Policy</a> <a href="#v:mappend" class="selflink">#</a></p><p class="src"><a href="#v:mconcat">mconcat</a> :: [<a href="Network-Wai-Middleware-Static.html#t:Policy" title="Network.Wai.Middleware.Static">Policy</a>] -&gt; <a href="Network-Wai-Middleware-Static.html#t:Policy" title="Network.Wai.Middleware.Static">Policy</a> <a href="#v:mconcat" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Policy:Semigroup:2"></span> <a href="../base-4.18.2.1/Prelude.html#t:Semigroup" title="Prelude">Semigroup</a> <a href="Network-Wai-Middleware-Static.html#t:Policy" title="Network.Wai.Middleware.Static">Policy</a></span> <a href="src/Network.Wai.Middleware.Static.html#line-95" class="link">Source</a> <a href="#t:Policy" class="selflink">#</a></td><td class="doc"><p>Note:
   <code><a href="../base-4.18.2.1/Data-Monoid.html#v:-60--62-" title="Data.Monoid">(&lt;&gt;)</a></code> == <code>&gt;-&gt;</code> (policy sequencing)</p></td></tr><tr><td colspan="2"><details id="i:id:Policy:Semigroup:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Network-Wai-Middleware-Static.html">Network.Wai.Middleware.Static</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-60--62-">(&lt;&gt;)</a> :: <a href="Network-Wai-Middleware-Static.html#t:Policy" title="Network.Wai.Middleware.Static">Policy</a> -&gt; <a href="Network-Wai-Middleware-Static.html#t:Policy" title="Network.Wai.Middleware.Static">Policy</a> -&gt; <a href="Network-Wai-Middleware-Static.html#t:Policy" title="Network.Wai.Middleware.Static">Policy</a> <a href="#v:-60--62-" class="selflink">#</a></p><p class="src"><a href="#v:sconcat">sconcat</a> :: <a href="../base-4.18.2.1/Data-List-NonEmpty.html#t:NonEmpty" title="Data.List.NonEmpty">NonEmpty</a> <a href="Network-Wai-Middleware-Static.html#t:Policy" title="Network.Wai.Middleware.Static">Policy</a> -&gt; <a href="Network-Wai-Middleware-Static.html#t:Policy" title="Network.Wai.Middleware.Static">Policy</a> <a href="#v:sconcat" class="selflink">#</a></p><p class="src"><a href="#v:stimes">stimes</a> :: <a href="../base-4.18.2.1/Prelude.html#t:Integral" title="Prelude">Integral</a> b =&gt; b -&gt; <a href="Network-Wai-Middleware-Static.html#t:Policy" title="Network.Wai.Middleware.Static">Policy</a> -&gt; <a href="Network-Wai-Middleware-Static.html#t:Policy" title="Network.Wai.Middleware.Static">Policy</a> <a href="#v:stimes" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:-60--124--62-" class="def">(&lt;|&gt;)</a> :: <a href="Network-Wai-Middleware-Static.html#t:Policy" title="Network.Wai.Middleware.Static">Policy</a> -&gt; <a href="Network-Wai-Middleware-Static.html#t:Policy" title="Network.Wai.Middleware.Static">Policy</a> -&gt; <a href="Network-Wai-Middleware-Static.html#t:Policy" title="Network.Wai.Middleware.Static">Policy</a> <span class="fixity">infixr 4</span><span class="rightedge"></span> <a href="src/Network.Wai.Middleware.Static.html#%3C%7C%3E" class="link">Source</a> <a href="#v:-60--124--62-" class="selflink">#</a></p><div class="doc"><p>Choose between two policies. If the first fails, run the second.</p></div></div><div class="top"><p class="src"><a id="v:-62--45--62-" class="def">(&gt;-&gt;)</a> :: <a href="Network-Wai-Middleware-Static.html#t:Policy" title="Network.Wai.Middleware.Static">Policy</a> -&gt; <a href="Network-Wai-Middleware-Static.html#t:Policy" title="Network.Wai.Middleware.Static">Policy</a> -&gt; <a href="Network-Wai-Middleware-Static.html#t:Policy" title="Network.Wai.Middleware.Static">Policy</a> <span class="fixity">infixr 5</span><span class="rightedge"></span> <a href="src/Network.Wai.Middleware.Static.html#%3E-%3E" class="link">Source</a> <a href="#v:-62--45--62-" class="selflink">#</a></p><div class="doc"><p>Sequence two policies. They are run from left to right. (Note: this is <code><a href="../base-4.18.2.1/Data-Monoid.html#v:mappend" title="Data.Monoid">mappend</a></code>)</p></div></div><div class="top"><p class="src"><a id="v:policy" class="def">policy</a> :: (<a href="../base-4.18.2.1/Data-String.html#t:String" title="Data.String">String</a> -&gt; <a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../base-4.18.2.1/Data-String.html#t:String" title="Data.String">String</a>) -&gt; <a href="Network-Wai-Middleware-Static.html#t:Policy" title="Network.Wai.Middleware.Static">Policy</a> <a href="src/Network.Wai.Middleware.Static.html#policy" class="link">Source</a> <a href="#v:policy" class="selflink">#</a></p><div class="doc"><p>Lift a function into a <code><a href="Network-Wai-Middleware-Static.html#t:Policy" title="Network.Wai.Middleware.Static">Policy</a></code></p></div></div><div class="top"><p class="src"><a id="v:predicate" class="def">predicate</a> :: (<a href="../base-4.18.2.1/Data-String.html#t:String" title="Data.String">String</a> -&gt; <a href="../base-4.18.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>) -&gt; <a href="Network-Wai-Middleware-Static.html#t:Policy" title="Network.Wai.Middleware.Static">Policy</a> <a href="src/Network.Wai.Middleware.Static.html#predicate" class="link">Source</a> <a href="#v:predicate" class="selflink">#</a></p><div class="doc"><p>Lift a predicate into a <code><a href="Network-Wai-Middleware-Static.html#t:Policy" title="Network.Wai.Middleware.Static">Policy</a></code></p></div></div><div class="top"><p class="src"><a id="v:addBase" class="def">addBase</a> :: <a href="../base-4.18.2.1/Data-String.html#t:String" title="Data.String">String</a> -&gt; <a href="Network-Wai-Middleware-Static.html#t:Policy" title="Network.Wai.Middleware.Static">Policy</a> <a href="src/Network.Wai.Middleware.Static.html#addBase" class="link">Source</a> <a href="#v:addBase" class="selflink">#</a></p><div class="doc"><p>Add a base path to the URI</p><pre>staticPolicy (addBase &quot;/home/user/files&quot;)</pre><p>GET &quot;foo/bar&quot; looks for &quot;/home/user/files/foo/bar&quot;</p></div></div><div class="top"><p class="src"><a id="v:addSlash" class="def">addSlash</a> :: <a href="Network-Wai-Middleware-Static.html#t:Policy" title="Network.Wai.Middleware.Static">Policy</a> <a href="src/Network.Wai.Middleware.Static.html#addSlash" class="link">Source</a> <a href="#v:addSlash" class="selflink">#</a></p><div class="doc"><p>Add an initial slash to to the URI, if not already present.</p><pre>staticPolicy addSlash</pre><p>GET &quot;foo/bar&quot; looks for &quot;/foo/bar&quot;</p></div></div><div class="top"><p class="src"><a id="v:contains" class="def">contains</a> :: <a href="../base-4.18.2.1/Data-String.html#t:String" title="Data.String">String</a> -&gt; <a href="Network-Wai-Middleware-Static.html#t:Policy" title="Network.Wai.Middleware.Static">Policy</a> <a href="src/Network.Wai.Middleware.Static.html#contains" class="link">Source</a> <a href="#v:contains" class="selflink">#</a></p><div class="doc"><p>Accept only URIs containing given string</p></div></div><div class="top"><p class="src"><a id="v:hasPrefix" class="def">hasPrefix</a> :: <a href="../base-4.18.2.1/Data-String.html#t:String" title="Data.String">String</a> -&gt; <a href="Network-Wai-Middleware-Static.html#t:Policy" title="Network.Wai.Middleware.Static">Policy</a> <a href="src/Network.Wai.Middleware.Static.html#hasPrefix" class="link">Source</a> <a href="#v:hasPrefix" class="selflink">#</a></p><div class="doc"><p>Accept only URIs with given prefix</p></div></div><div class="top"><p class="src"><a id="v:hasSuffix" class="def">hasSuffix</a> :: <a href="../base-4.18.2.1/Data-String.html#t:String" title="Data.String">String</a> -&gt; <a href="Network-Wai-Middleware-Static.html#t:Policy" title="Network.Wai.Middleware.Static">Policy</a> <a href="src/Network.Wai.Middleware.Static.html#hasSuffix" class="link">Source</a> <a href="#v:hasSuffix" class="selflink">#</a></p><div class="doc"><p>Accept only URIs with given suffix</p></div></div><div class="top"><p class="src"><a id="v:noDots" class="def">noDots</a> :: <a href="Network-Wai-Middleware-Static.html#t:Policy" title="Network.Wai.Middleware.Static">Policy</a> <a href="src/Network.Wai.Middleware.Static.html#noDots" class="link">Source</a> <a href="#v:noDots" class="selflink">#</a></p><div class="doc"><p>Reject URIs containing &quot;..&quot;</p></div></div><div class="top"><p class="src"><a id="v:isNotAbsolute" class="def">isNotAbsolute</a> :: <a href="Network-Wai-Middleware-Static.html#t:Policy" title="Network.Wai.Middleware.Static">Policy</a> <a href="src/Network.Wai.Middleware.Static.html#isNotAbsolute" class="link">Source</a> <a href="#v:isNotAbsolute" class="selflink">#</a></p><div class="doc"><p>Reject URIs that are absolute paths</p></div></div><div class="top"><p class="src"><a id="v:only" class="def">only</a> :: [(<a href="../base-4.18.2.1/Data-String.html#t:String" title="Data.String">String</a>, <a href="../base-4.18.2.1/Data-String.html#t:String" title="Data.String">String</a>)] -&gt; <a href="Network-Wai-Middleware-Static.html#t:Policy" title="Network.Wai.Middleware.Static">Policy</a> <a href="src/Network.Wai.Middleware.Static.html#only" class="link">Source</a> <a href="#v:only" class="selflink">#</a></p><div class="doc"><p>Use URI as the key to an association list, rejecting those not found.
 The policy result is the matching value.</p><pre>staticPolicy (only [(&quot;foo/bar&quot;, &quot;/home/user/files/bar&quot;)])</pre><p>GET &quot;foo/bar&quot; looks for &quot;/home/user/files/bar&quot;
 GET &quot;baz/bar&quot; doesn't match anything</p></div></div><a href="#g:5" id="g:5"><h1>Utilities</h1></a><div class="top"><p class="src"><a id="v:tryPolicy" class="def">tryPolicy</a> :: <a href="Network-Wai-Middleware-Static.html#t:Policy" title="Network.Wai.Middleware.Static">Policy</a> -&gt; <a href="../base-4.18.2.1/Data-String.html#t:String" title="Data.String">String</a> -&gt; <a href="../base-4.18.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="../base-4.18.2.1/System-IO.html#t:FilePath" title="System.IO">FilePath</a> <a href="src/Network.Wai.Middleware.Static.html#tryPolicy" class="link">Source</a> <a href="#v:tryPolicy" class="selflink">#</a></p><div class="doc"><p>Run a policy</p></div></div><a href="#g:6" id="g:6"><h1>MIME types</h1></a><div class="top"><p class="src"><a id="v:getMimeType" class="def">getMimeType</a> :: <a href="../base-4.18.2.1/System-IO.html#t:FilePath" title="System.IO">FilePath</a> -&gt; <a href="../mime-types-0.1.2.0/Network-Mime.html#t:MimeType" title="Network.Mime">MimeType</a> <a href="src/Network.Wai.Middleware.Static.html#getMimeType" class="link">Source</a> <a href="#v:getMimeType" class="selflink">#</a></p><div class="doc"><p>Guess MIME type from file extension</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.29.2</p></div></body></html>